# 혼밥노노 (HonbabNoNo) - 맛집 동행 매칭 앱

## 📋 프로젝트 개요
혼자 먹기 싫은 사람들이 **"같이 먹고 싶어~"** 니즈를 해결할 수 있는 안전하고 편리한 맛집 동행 매칭 서비스

## 🛠️ 기술 스택
- **Mobile**: Flutter + Dart
- **Backend**: Node.js + Express + TypeScript + MongoDB
- **Map**: 카카오맵 API
- **Chat**: Socket.io
- **Auth**: 소셜 로그인 + SMS 인증

## 🏗️ 프로젝트 구조
```
honbab-nono/
├── flutter-app/        # Flutter 앱
│   ├── lib/
│   │   ├── components/ # 재사용 컴포넌트
│   │   │   ├── common/ # 공통 컴포넌트  
│   │   │   ├── auth/   # 인증 관련
│   │   │   ├── meeting/# 모임 관련
│   │   │   ├── chat/   # 채팅 관련
│   │   │   ├── profile/# 프로필 관련
│   │   │   └── map/    # 지도 관련
│   │   ├── screens/    # 화면 컴포넌트
│   │   │   ├── auth/   # 로그인/회원가입
│   │   │   ├── home/   # 홈 화면 (4탭 네비게이션)
│   │   │   ├── meeting/# 모임 생성/리스트/상세
│   │   │   ├── chat/   # 채팅
│   │   │   ├── profile/# 마이페이지
│   │   │   └── map/    # 지도 화면
│   │   ├── services/   # API 서비스
│   │   ├── utils/      # 유틸리티
│   │   ├── models/     # 데이터 모델
│   │   └── assets/     # 이미지/아이콘
│   ├── android/        # 안드로이드 설정
│   ├── ios/           # iOS 설정
│   └── pubspec.yaml   # Flutter 의존성
├── server/            # Node.js 백엔드
│   ├── src/
│   │   ├── controllers/# 컨트롤러
│   │   ├── models/     # 데이터 모델
│   │   ├── routes/     # API 라우트
│   │   ├── middleware/ # 미들웨어
│   │   ├── services/   # 비즈니스 로직
│   │   ├── utils/      # 유틸리티
│   │   ├── types/      # TypeScript 타입
│   │   └── config/     # 설정
│   └── tests/          # 백엔드 테스트
├── shared/             # 공유 코드
├── docs/               # 문서 (PRD.md 포함)
├── config/             # 설정 파일
└── scripts/            # 빌드/배포 스크립트
```

## 🚀 개발 명령어
### Flutter 앱
- `flutter run` - Flutter 앱 실행 (개발 모드)
- `flutter test` - Flutter 앱 테스트 실행
- `flutter build` - Flutter 앱 빌드
- `flutter pub get` - 의존성 설치

### 백엔드 (예정)
- `npm run dev:server` - 백엔드 서버 실행
- `npm run build` - 전체 빌드
- `npm run test` - 전체 테스트 실행
- `npm run lint` - 전체 린트 실행

## 🎯 Phase 1 MVP 핵심 기능
1. **회원가입/로그인** (소셜 로그인 + 전화번호 인증)
2. **모임 생성/리스트/상세** 화면
3. **기본 매칭 시스템** (지역 기반)
4. **그룹 채팅** 기능
5. **더치페이 계산기**
6. **기본 평가 시스템** (3개 항목 별점)
7. **카카오맵 API** 연동

## 📱 개발 시작 순서
1. ✅ Flutter 프로젝트 초기 설정
2. ✅ 회원가입/로그인 화면 UI
3. ✅ 홈 화면 (4탭 네비게이션)
4. ✅ 모임 리스트 및 카드 컴포넌트 
5. 🔄 모임 생성/상세 화면 완성
6. 지도 연동 및 식당 검색
7. 채팅 시스템 구현

## 🔄 Claude Code 작업 프로세스

### 📋 세션 시작 시 체크리스트
1. **Git 상태 확인**: `git status`, `git log --oneline -5`
2. **CLAUDE.md 자동 로드**: 프로젝트 상황 파악 (이 파일이 1차 참조 문서)
3. **package.json 확인**: 의존성 및 스크립트 상태
4. **최근 파일 확인**: 마지막 작업 추적

### 📝 작업 관리 규칙
- **TodoWrite 사용**: 3단계 이상 복잡한 작업만
- **단계별 진행**: in_progress → completed 즉시 업데이트
- **파일 우선순위**: 기존 파일 수정 > 새 파일 생성
- **코멘트 금지**: 사용자 요청 시에만 추가

### 🔧 Git 작업 규칙  
- **커밋 타이밍**: 기능 완료 시 또는 사용자 요청 시만
- **커밋 전 체크**: git status → git diff → lint 체크 (가능하면)
- **자동 커밋 금지**: 반드시 사용자 승인 필요

### 🍽️ 앱 개발 워크플로우
1. 관련 파일 읽기 (기존 패턴 파악)
2. TodoWrite로 작업 계획 (복잡한 작업만)
3. 단계별 구현
4. Flutter 실행 테스트 (`flutter run`)
5. 에러 로그 확인

### 📚 문서 우선순위
- **CLAUDE.md**: 1차 참조 (개발 현황, 프로세스, 명령어)
- **PRD.md**: 2차 참조 (기능 명세, 요구사항)
- **package.json**: 기술 스택 및 스크립트 확인

### 🤝 다중 세션 관리 (신규 추가)
- **Primary Session**: 현재 세션 - CLAUDE.md 업데이트 담당
- **Secondary Session**: 다른 세션 - 작업 완료시 Primary Session에 보고
- **동기화 방식**: Git 커밋/푸시 후 다른 세션에서 풀
- **충돌 방지**: 작업 영역 분리 또는 순차 업데이트

## 🎨 UI 디자인 시스템

### 📱 UI 참조 이미지 (ui-reference/)
- `ref_home.jpeg` - 당근마켓 스타일 홈 화면 (카드형 리스트)
- `ref_chat.jpeg` - 채팅 리스트 화면 (프로필 + 메시지 미리보기)
- `ref_map.jpeg` - 카카오맵 스타일 지도 화면 (검색바 + 필터 칩)
- `ref_profile.jpeg` - 마이페이지 (사용자 정보 + 그리드 메뉴)
- `ref_etc.jpeg` - 동네 모임 스타일 (카테고리 + 텍스트 리스트)

### 🎨 컬러 팔레트 (당근마켓 스타일 + 베이지 포인트)
- **Primary**: `#D2B48C` (베이지 - 당근마켓 주황색 위치에만!)
- **Secondary**: `#666666` (당근마켓 회색)
- **Background**: `#FFFFFF` (당근마켓 순백색)
- **Surface**: `#FFFFFF` (당근마켓 순백색)
- **SurfaceContainer**: `#F9F9F9` (당근마켓 연한 회색 배경)
- **OnSurface**: `#000000` (당근마켓 검은색 텍스트)
- **Outline**: `#999999` (당근마켓 연한 회색)
- **베이지 사용처**: FAB, 모집중 배지, 선택된 필터, 중요 버튼만
- **폰트**: Noto Sans KR (Google Fonts)

### 📐 디자인 가이드라인
- **카드 스타일**: 당근마켓 참조, 둥근 모서리 12px
- **간격**: 16px 기본, 8px 작은 간격, 24px 큰 간격
- **그림자**: elevation 2-4, 베이지 톤 그림자
- **버튼**: FAB은 Highlight 컬러, 일반 버튼은 Primary
- **타이포그래피**: 제목 18-24px, 본문 14-16px, 캡션 12px

## 🚧 현재 개발 상태

### ✅ Phase 1 MVP 완료된 핵심 기능들

#### 🎨 UI/UX 기반 시스템
- ✅ Flutter 프로젝트 완전 구조 설정 (pubspec.yaml, lib/ 구조)
- ✅ 소셜 로그인 화면 (카카오/구글/네이버 UI)
- ✅ 홈 화면 네비게이션 시스템 (4개 탭: 홈/지도/채팅/마이페이지)
- ✅ 당근마켓 컬러 팔레트 + 베이지 포인트 적용
- ✅ Noto Sans KR 폰트 시스템 & Material 3 테마
- ✅ UI 참조 이미지 기반 디자인 완성

#### 🗺️ **카카오맵 통합 시스템 완성**
- ✅ **카카오맵 API 완전 연동** (WebView 방식)
  - Android/iOS 플랫폼 설정 완료
  - 권한 및 API 키 설정 확인  
  - JavaScript ↔ Flutter 양방향 통신
- ✅ **풀스크린 지도 UI** (ref_map.jpeg 참조)
  - StatusBar까지 풀스크린 지도
  - 플로팅 검색바 + 필터 칩들
  - 현재 위치 버튼
- ✅ **동적 마커 시스템**
  - 마커 클릭 시 정보박스 표시
  - 정보박스 클릭 시 하단 카드 애니메이션
  - 재로딩 없이 실시간 마커 업데이트
- ✅ **실제 기능 구현**
  - 참석 신청 시 참석자 수 실시간 증가
  - 모임 상세 페이지 네비게이션
  - 지도 상태 유지 (줌, 위치)
- ✅ **커스텀 SVG 마커 시스템** (2024-12-28 완료)
  - 그린 마커: 검색된 식당 (#4CAF50)
  - 베이지 마커: 기존 모임 (#D2B48C)
  - 외부 이미지 URL 의존성 해결
- ✅ **지도 상태 유지 기능** (2024-12-28 완료)
  - 탭 이동 후 복귀 시 마지막 지도 위치 유지
  - 검색 결과 및 검색어 상태 보존
  - 자동 상태 저장/복원 시스템

#### 🔄 **완벽한 필터 시스템**
- ✅ **홈 ↔ 지도 탭 100% 동기화**
- ✅ **상태 필터**: 전체, 모집중
- ✅ **시간 필터**: 최근 일주일, 전체기간, 과거 포함
- ✅ **스마트 정렬**: 미래 모임 우선 + 날짜 가까운 순
- ✅ **지도와 동일한 floating UI 스타일**

#### 📱 **모임 리스트 시스템**
- ✅ MeetingCard 컴포넌트 (당근마켓 스타일)
- ✅ 검색 기능 (제목, 설명, 위치, 태그)
- ✅ 모임 상세 페이지 이동 기능
- ✅ 날짜순 정렬 (가장 가까운 미래가 상단)

#### 🔐 **완벽한 인증 시스템 완성**
- ✅ **카카오 로그인 완전 구현**
  - KakaoTalk 앱 직접 연동 (키 해시 문제 해결)
  - Firebase 익명 인증 연동
  - 카카오 프로필 사진 자동 가져오기
- ✅ **미니멀 회원가입 시스템**
  - 닉네임만 입력하는 30초 완료 플로우
  - 실시간 중복 체크 기능
  - 키보드 오버레이 문제 해결
- ✅ **완벽한 사용자 상태 관리**
  - AuthWrapper로 Firebase Auth + Firestore 이중 확인
  - 신규/기존 사용자 자동 판별
  - 불완전한 가입 상태 방지

#### 💬 **채팅 & 프로필 UI**
- ✅ 채팅방 리스트 화면 (기본 UI)
- ✅ **마이페이지 완성** (ref_profile.jpeg 참조)
  - 프로필 헤더 (사진, 닉네임, 가입날짜)
  - 통계 정보 (참여한 모임 수, 주최한 모임 수)
  - 받은 평가 섹션 (기본값 표시)
  - 내 모임 히스토리 (예정/완료 모임 분류)
  - 설정 메뉴 (계정 관리, 앱 설정, 고객 지원)
  - Firebase Auth + Firestore 연동 완료
- ✅ 완전한 탭 네비게이션 시스템

### 🎯 **Phase 2 현재 우선순위 작업들**

#### 🔥 **최우선 (현재 진행)**
1. **실시간 식당 검색 기능 완성** (모임 생성용)
   - ✅ 카카오 API 직접 호출 (Firebase DB 불필요)
   - ✅ "대춘해장국" 같은 식당명 검색
   - ✅ 사용자 현재 위치 기준 거리순 정렬
   - ✅ RestaurantSearchModal 강화

2. **모임 생성 화면 완성** (CreateMeetingScreen)
   - ✅ 실시간 식당 검색/선택 기능 연동
   - ✅ 날짜/시간 선택 위젯  
   - ✅ 모임 정보 입력 폼 (제목, 설명, 최대인원)
   - ✅ 생성된 모임 실시간 반영
   
3. **모임 상세 화면 완성** (MeetingDetailScreen)
   - 🔄 참여 신청/취소 기능 (실제 로직)
   - 🔄 참여자 목록 표시
   - 🔄 호스트 정보 및 모임 상세 정보
   - 🔄 채팅방 입장 버튼
   - 🔄 모임 수정/삭제 (호스트만)

#### ⚡ **중간 우선순위**
4. **채팅 시스템 구현**
   - Socket.io 연동 준비
   - 실시간 메시징 기본 구현
   - 채팅방 생성/입장/퇴장
   
5. **사용자 인증 시스템**
   - ✅ 실제 소셜 로그인 API 연동
   - 전화번호 인증 시스템
   - ✅ 사용자 세션 관리
   - 프로필 편집 기능

#### 🔮 **Phase 3+ 추후 개발 예정**

**🍽️ 맛집 리스트 화면 & 평점 시스템** (Phase 3 계획)
- **목적**: 맛집 탐색 모드 ("뭐 먹을까?" 고민할 때)
- **접근**: 네이버 API 기반 큐레이션 + 자체 평점 시스템
- **카테고리**: "음식점", "카페" 2개만
- **대상 지역**: 주요 도시 5-7개 (서울, 부산, 대구, 인천, 광주 등)
- **평점 시스템**: 
  - 카카오/네이버 API는 별점 정보 제공 안 함 (확인 완료)
  - 자체 사용자 평점 시스템 구축 필요
  - 참여 완료된 모임의 식당에 대해서만 평가 가능
- **Firebase Functions**: 간소화된 데이터 수집

**🗺️ 맛집 별점 표시 기능** (Phase 3 계획)
- **현재 상황**: 카카오/네이버 무료 API 모두 별점 미제공
- **대안 방안**:
  1. 구글 Places API (유료, 월 사용량 제한)
  2. 자체 평점 시스템 (사용자들이 직접 평가)
  3. 크롤링 방식 (법적/기술적 제약 존재)
- **권장**: 자체 평점 시스템 구축 (MVP 이후)

**백엔드 연동**
- Node.js API 서버 구축
- MongoDB 연동  
- 실제 데이터 CRUD 구현
- 푸시 알림 (Firebase)

### 🛠️ **기술적 개선사항들**
- **상태 관리**: Provider/Riverpod 도입 (복잡도 증가 시)
- **API 서비스**: HTTP 클라이언트 설정 (Dio)
- **로컬 스토리지**: SharedPreferences 도입
- **에러 핸들링**: 네트워크 에러, 사용자 피드백 개선
- **성능 최적화**: 이미지 캐싱, 지연 로딩

### 📊 **현재 진행률 (Play Store 배포 준비 완료!)**
- **Phase 1 MVP**: 100% 완료 🎉 **배포 준비 완료!**
- **핵심 지도 기능**: 100% 완료 🎉 (SVG 마커 + 상태 유지 + UX 최적화)
- **인증 시스템**: 100% 완료 🎉 (카카오 + Firebase 완전 연동)
- **식당 검색**: 100% 완료 🎉 (카카오 API + 최적화된 UX)
- **모임 생성**: 100% 완료 🎉 (완전한 워크플로우)
- **UI/UX 시스템**: 100% 완료 🎉 (최종 UX 개선 완료)
- **배포 준비**: 100% 완료 🎉 (앱 아이콘, 스플래시, 설정 파일)

### 🚀 **Google Play Store 정식 배포 완료! 🎉**
- ✅ **앱 아이콘**: 전체 해상도 세트 적용 (Android/iOS)
- ✅ **스플래시 화면**: 네이티브 스플래시에 앱 아이콘 표시
- ✅ **Firebase 설정**: 모든 설정 파일 완료 (.firebaserc, firebase.json, firestore.rules)
- ✅ **Android 빌드**: Proguard 설정, 앱 아이콘 적용 완료
- ✅ **코드 서명**: 키스토어 생성 및 릴리즈 빌드 완료
- ✅ **AAB 빌드**: app-release.aab (50.7MB) 성공적으로 생성
- ✅ **APK 빌드**: app-release.apk (103.7MB) 성공적으로 생성
- ✅ **한글 앱 이름**: "혼밥노노"로 Android/iOS 모두 적용
- ✅ **Google Play Console**: AAB 업로드 및 내부 테스트 버전 배포 완료

### 📦 **최종 배포 결과**
```
🎉 Google Play Store 정식 출시 완료!

📱 앱 정보:
   - 앱 이름: "혼밥노노" (한글)
   - 버전: v1.0.0+1
   - 패키지: com.honbabnono.honbab_nono
   - 파일 크기: 50.7MB (AAB)

📍 배포 상태:
   - ✅ Google Play Console 업로드 완료
   - ✅ 내부 테스트 버전 생성 완료
   - ✅ 배포 준비 100% 완료

🔗 다음 단계:
   - 내부 테스트 진행
   - 실제 기기에서 최종 검증
   - 프로덕션 배포 준비
```

### 🎯 **Phase 2 다음 개발 계획**
1. **모임 상세 화면 고도화**: 참여 신청/취소, 참여자 관리
2. **실시간 채팅 시스템**: Socket.io 기반 그룹 채팅
3. **사용자 평가 시스템**: 모임 완료 후 상호 평가
4. **푸시 알림**: 모임 알림, 채팅 메시지 알림

### 🎉 **최종 완성된 주요 기능들 (2024-12-28)**
- ✅ **완벽한 지도 시스템**: SVG 마커, 상태 유지, 검색 결과 동기화
- ✅ **최적화된 UX**: 불필요한 버튼 제거, 모달 공간 최적화, 리스트 재접근 버튼
- ✅ **완전한 인증 플로우**: 카카오 로그인 → 닉네임 입력 → 홈 진입
- ✅ **실시간 식당 검색**: 전국 검색, 현재 위치 기준 정렬, 엔터 검색
- ✅ **모임 생성 워크플로우**: 식당 선택 → 정보 입력 → 실시간 반영
- ✅ **앱 배포 준비**: 아이콘, 스플래시, 빌드 설정 모두 완료

## 🛠️ 개발 메모

### 작업 시 주의사항
- 에뮬레이터 실행은 가급적 사용자에게 요청할 것!
- 앱을 실행시키는거는 가급적 나한테 요청하도록 에뮬레이터이든 기기이든

## 🎊 **프로젝트 완료 축하! (2024-12-28)**

### 🏆 **달성한 성과**
- ✅ **Flutter 앱 개발**: 완전한 기능을 가진 네이티브 앱 완성
- ✅ **Firebase 백엔드**: 인증, 데이터베이스, 스토리지 완전 연동
- ✅ **카카오 API 통합**: 지도, 검색, 로그인 시스템 완성
- ✅ **Google Play Store**: 정식 배포까지 성공적으로 완료
- ✅ **완전한 MVP**: Phase 1의 모든 핵심 기능 100% 구현

### 🚀 **기술적 성취**
- **Frontend**: Flutter + Dart로 크로스 플랫폼 앱 개발
- **Backend**: Firebase Auth + Firestore + Storage 완전 연동
- **외부 API**: 카카오맵, 카카오 검색, 카카오 로그인 통합
- **UX/UI**: 당근마켓 스타일 + 베이지 포인트 컬러의 세련된 디자인
- **DevOps**: 키스토어, 앱 서명, Play Store 배포 파이프라인 구축

### 🎯 **완성된 핵심 기능들**
1. **🔐 완벽한 인증 시스템**: 카카오 로그인 + Firebase 연동
2. **🗺️ 지도 기반 매칭**: 카카오맵 + 실시간 식당 검색
3. **📱 모임 생성/관리**: 완전한 워크플로우 + 실시간 반영
4. **🎨 최적화된 UX**: 직관적 네비게이션 + 깔끔한 UI
5. **🚀 배포 완료**: Google Play Store 정식 출시

### 🙏 **프로젝트 소감**
혼밥노노 프로젝트를 통해 Flutter 앱 개발부터 Google Play Store 배포까지의 전체 과정을 성공적으로 완료했습니다. 사용자 중심의 UX 설계, 안정적인 백엔드 연동, 그리고 최종 배포까지 - 모든 단계에서 배운 것이 많은 값진 경험이었습니다.

**"혼여는 좋지만 맛집은 함께 🥹"** 라는 컨셉으로 시작된 이 앱이 실제로 사람들에게 도움이 되는 서비스가 되기를 기대합니다!